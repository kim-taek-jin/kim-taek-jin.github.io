<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MoodFlix - ì»¤ë®¤ë‹ˆí‹°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap');
        
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f8f9fa;
        }
        .nav-tab { transition: all 0.2s ease-in-out; }
        .nav-tab.active { color: #667eea; border-bottom: 2px solid #667eea; }
        .modal-overlay { background-color: rgba(0, 0, 0, 0.5); transition: opacity 0.3s ease; }
        .modal-content { transition: transform 0.3s ease; }
        .post-item { transition: all 0.2s ease; }
        .post-item:hover { transform: translateY(-4px); box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .mood-btn { transition: all 0.3s ease; cursor: pointer; }
        .mood-btn:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
        .mood-btn.selected { background: linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%); color: white; transform: scale(1.05); border-color: transparent; }
        .genre-chip { transition: all 0.2s ease; cursor: pointer; }
        .genre-chip:hover { background-color: #e9ecef; transform: scale(1.05); }
        .genre-chip.selected { background: linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%); color: white; box-shadow: 0 4px 12px rgba(102, 166, 255, 0.3); }
        .gradient-bg { background: linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%); }
        .hero-section { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-enter { animation: card-enter 0.5s ease-out forwards; opacity: 0; transform: translateY(20px); }
        @keyframes card-enter { to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="bg-gray-100">
    <div class="hero-section text-white py-12">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-4xl md:text-5xl font-bold mb-4">ğŸ¬ MoodFlix</h1>
            <p class="text-lg opacity-90">ë‹¹ì‹ ì˜ ê°ì •ê³¼ ì·¨í–¥ì— ë§ëŠ” ì™„ë²½í•œ ì½˜í…ì¸ ë¥¼ ì°¾ì•„ë“œë¦½ë‹ˆë‹¤</p>
        </div>
    </div>

    <div class="bg-white shadow-sm sticky top-0 z-10">
        <div class="container mx-auto px-4 max-w-4xl">
            <nav class="flex space-x-8">
                <button id="tabRecommender" class="nav-tab py-4 px-2 text-gray-700 font-medium active">ì¶”ì²œ ë°›ê¸°</button>
                <button id="tabCommunity" class="nav-tab py-4 px-2 text-gray-500 font-medium">ì»¤ë®¤ë‹ˆí‹°</button>
            </nav>
        </div>
    </div>

    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <div id="recommenderView">
            <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
                <h2 class="text-2xl font-bold mb-6 text-gray-800">ğŸ˜Š ì§€ê¸ˆ ê¸°ë¶„ì´ ì–´ë– ì‹ ê°€ìš”?</h2>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4" id="moodSection">
                    <div class="mood-btn bg-white border-2 border-gray-200 rounded-xl p-4 text-center" data-mood="happy"><div class="text-3xl mb-2">ğŸ˜Š</div><div class="font-medium">ì„¤ë ˆìš”</div></div>
                    <div class="mood-btn bg-white border-2 border-gray-200 rounded-xl p-4 text-center" data-mood="sad"><div class="text-3xl mb-2">ğŸ˜”</div><div class="font-medium">ìš°ìš¸í•´ìš”</div></div>
                    <div class="mood-btn bg-white border-2 border-gray-200 rounded-xl p-4 text-center" data-mood="angry"><div class="text-3xl mb-2">ğŸ˜¡</div><div class="font-medium">ì§œì¦ë‚˜ìš”</div></div>
                    <div class="mood-btn bg-white border-2 border-gray-200 rounded-xl p-4 text-center" data-mood="calm"><div class="text-3xl mb-2">ğŸ˜Œ</div><div class="font-medium">ì”ì”í•œ ê²Œ</div></div>
                    <div class="mood-btn bg-white border-2 border-gray-200 rounded-xl p-4 text-center" data-mood="excited"><div class="text-3xl mb-2">ğŸ¤©</div><div class="font-medium">ì‹ ë‚˜ìš”</div></div>
                    <div class="mood-btn bg-white border-2 border-gray-200 rounded-xl p-4 text-center" data-mood="tired"><div class="text-3xl mb-2">ğŸ˜´</div><div class="font-medium">í”¼ê³¤í•´ìš”</div></div>
                    <div class="mood-btn bg-white border-2 border-gray-200 rounded-xl p-4 text-center" data-mood="romantic"><div class="text-3xl mb-2">ğŸ¥°</div><div class="font-medium">ë¡œë§¨í‹±í•œ</div></div>
                    <div class="mood-btn bg-white border-2 border-gray-200 rounded-xl p-4 text-center" data-mood="curious"><div class="text-3xl mb-2">ğŸ¤”</div><div class="font-medium">ìƒˆë¡œìš´ ê²Œ</div></div>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
                <h2 class="text-2xl font-bold mb-6 text-gray-800">ğŸ­ ì–´ë–¤ ë¶„ìœ„ê¸°ë¥¼ ì›í•˜ì„¸ìš”?</h2>
                <div class="flex flex-wrap gap-3" id="genreSection">
                    <div class="genre-chip bg-gray-100 px-4 py-2 rounded-full text-sm font-medium" data-genre="romance">ë¡œë§¨ìŠ¤</div> <div class="genre-chip bg-gray-100 px-4 py-2 rounded-full text-sm font-medium" data-genre="comedy">ì½”ë¯¸ë””</div> <div class="genre-chip bg-gray-100 px-4 py-2 rounded-full text-sm font-medium" data-genre="drama">ë“œë¼ë§ˆ</div> <div class="genre-chip bg-gray-100 px-4 py-2 rounded-full text-sm font-medium" data-genre="thriller">ìŠ¤ë¦´ëŸ¬</div> <div class="genre-chip bg-gray-100 px-4 py-2 rounded-full text-sm font-medium" data-genre="fantasy">íŒíƒ€ì§€</div> <div class="genre-chip bg-gray-100 px-4 py-2 rounded-full text-sm font-medium" data-genre="action">ì•¡ì…˜</div> <div class="genre-chip bg-gray-100 px-4 py-2 rounded-full text-sm font-medium" data-genre="healing">íë§</div> <div class="genre-chip bg-gray-100 px-4 py-2 rounded-full text-sm font-medium" data-genre="mystery">ë¯¸ìŠ¤í„°ë¦¬</div> <div class="genre-chip bg-gray-100 px-4 py-2 rounded-full text-sm font-medium" data-genre="historical">ì‚¬ê·¹</div> <div class="genre-chip bg-gray-100 px-4 py-2 rounded-full text-sm font-medium" data-genre="youth">ì²­ì¶˜</div> <div class="genre-chip bg-gray-100 px-4 py-2 rounded-full text-sm font-medium" data-genre="family">ê°€ì¡±</div> <div class="genre-chip bg-gray-100 px-4 py-2 rounded-full text-sm font-medium" data-genre="horror">ê³µí¬</div> <div class="genre-chip bg-gray-100 px-4 py-2 rounded-full text-sm font-medium" data-genre="sf">SF</div>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
                <h2 class="text-2xl font-bold mb-4 text-gray-800">âœï¸ ë” ìì„¸íˆ ì•Œë ¤ì£¼ì„¸ìš”</h2>
                <textarea id="userInput" placeholder="ë³´ê³  ì‹¶ì€ ë¶„ìœ„ê¸°ë¥¼ ììœ ë¡­ê²Œ ì¨ì£¼ì„¸ìš”..." class="w-full h-24 p-4 border border-gray-200 rounded-lg resize-none focus:ring-2 focus:ring-blue-400 focus:border-transparent"></textarea>
            </div>
            <div class="text-center">
                <button id="getRecommendation" class="gradient-bg text-white font-bold py-4 px-8 rounded-xl text-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200">âœ¨ ë‚˜ë§Œì˜ ì¶”ì²œ ë°›ê¸°</button>
            </div>
            <div id="loadingSection" class="hidden text-center py-8">
                <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"></div>
                <p class="mt-4 text-gray-600">ë‹¹ì‹ ì—ê²Œ ì™„ë²½í•œ ì½˜í…ì¸ ë¥¼ ì°¾ê³  ìˆì–´ìš”...</p>
            </div>
            <div id="recommendationSection" class="hidden mt-8"></div>
        </div>

        <div id="communityView" class="hidden">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-3xl font-bold text-gray-800">ğŸ¿ ê°ìƒí‰ ë‚˜ëˆ„ê¸°</h2>
                <button id="openWriteModalBtn" class="gradient-bg text-white font-bold py-2 px-5 rounded-lg shadow-md hover:shadow-lg transition-shadow">ìƒˆ ê¸€ ì‘ì„±í•˜ê¸°</button>
            </div>
            <div class="mb-6">
                <select id="filterSelect" class="w-full p-3 bg-white border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-400 focus:border-transparent transition">
                    </select>
            </div>
            <div id="postList" class="space-y-4">
                </div>
        </div>
    </div>

    <div id="writePostModal" class="modal-overlay fixed inset-0 w-full h-full flex items-center justify-center hidden z-20">
        <div class="modal-content bg-white w-11/12 md:max-w-2xl mx-auto rounded-lg shadow-lg p-6 transform -translate-y-8">
            <h2 class="text-2xl font-bold mb-4">ê°ìƒí‰ ì‘ì„±</h2>
            <form id="postForm">
                <div class="mb-4">
                    <label for="postContentSelect" class="block text-gray-700 text-sm font-bold mb-2">ì½˜í…ì¸  ì„ íƒ</label>
                    <select id="postContentSelect" class="w-full p-2 border border-gray-300 rounded shadow-sm" required>
                        </select>
                </div>
                <div class="mb-4">
                    <label for="postTitle" class="block text-gray-700 text-sm font-bold mb-2">ì œëª©</label>
                    <input type="text" id="postTitle" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400" required>
                </div>
                <div class="mb-6">
                    <label for="postContent" class="block text-gray-700 text-sm font-bold mb-2">ë‚´ìš©</label>
                    <textarea id="postContent" rows="8" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400" required></textarea>
                </div>
                <div class="flex items-center justify-end space-x-4">
                    <button type="button" id="cancelPostBtn" class="bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded hover:bg-gray-300">ì·¨ì†Œ</button>
                    <button type="submit" class="gradient-bg text-white font-bold py-2 px-4 rounded hover:shadow-lg">ì €ì¥í•˜ê¸°</button>
                </div>
            </form>
        </div>
    </div>
    
    <div id="viewPostModal" class="modal-overlay fixed inset-0 w-full h-full flex items-center justify-center hidden z-20">
        <div class="modal-content bg-white w-11/12 md:max-w-2xl mx-auto rounded-lg shadow-lg p-8 transform -translate-y-8">
            <h2 id="viewPostTitle" class="text-3xl font-bold mb-2 text-gray-900 break-words"></h2>
            <p id="viewPostContentTitle" class="text-lg font-semibold text-indigo-600 mb-4"></p>
            <p id="viewPostDate" class="text-sm text-gray-500 mb-6"></p>
            <div id="viewPostContent" class="text-gray-700 leading-relaxed whitespace-pre-wrap"></div>
            <div class="text-right mt-8">
                 <button id="closeViewModalBtn" class="bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded hover:bg-gray-300">ë‹«ê¸°</button>
            </div>
        </div>
    </div>


    <script>
        const contentDatabase = { romance: [ { title: "ëˆˆë¬¼ì˜ ì—¬ì™•", genre: "ë¡œë§¨ìŠ¤/ë“œë¼ë§ˆ", description: "í€¸ì¦ˆ ê·¸ë£¹ ì¬ë²Œ 3ì„¸ì™€ ìš©ë‘ë¦¬ ì´ì¥ ì•„ë“¤, 3ë…„ì°¨ ë¶€ë¶€ì˜ ì•„ì°”í•œ ìœ„ê¸°ì™€ ê¸°ì ì²˜ëŸ¼ ë‹¤ì‹œ ì‹œì‘ë˜ëŠ” ì‚¬ë‘ ì´ì•¼ê¸°", platform: "ë„·í”Œë¦­ìŠ¤", poster: "ğŸ‘‘" }, { title: "ì„ ì¬ ì—…ê³  íŠ€ì–´", genre: "ë¡œë§¨ìŠ¤/íŒíƒ€ì§€", description: "ìì‹ ì„ ì‚´ê²Œ í•´ì¤¬ë˜ ìœ ëª… ì•„í‹°ìŠ¤íŠ¸ë¥¼ ì‚´ë¦¬ê¸° ìœ„í•´ ê³¼ê±°ë¡œ ê°„ íŒ¬ì˜ ì‹œê°„ ì—¬í–‰ ë¡œë§¨ìŠ¤", platform: "í‹°ë¹™", poster: "ğŸƒâ€â™€ï¸" }, { title: "ë‚˜ëŠ” ëŒ€ë†“ê³  ì‹ ë°ë ë¼ë¥¼ ê¿ˆê¾¼ë‹¤", genre: "ë¡œë§¨ìŠ¤/ì½”ë¯¸ë””", description: "í˜„ì‹¤ì˜ ë²½ì— ë¶€ë”ªí˜€ ì‹ ë°ë ë¼ê°€ ë˜ê¸°ë¡œ ë§ˆìŒë¨¹ì€ ì—¬ìì™€ ì‚¬ë‘ì„ ë¯¿ì§€ ì•ŠëŠ” ì¬ë²Œ 8ì„¸ì˜ ë¡œë§¨í‹± ì½”ë¯¸ë””", platform: "í‹°ë¹™", poster: "ğŸ‘ " }, { title: "ìƒê²¬ë‹ˆ", genre: "ë¡œë§¨ìŠ¤/íŒíƒ€ì§€", description: "ê³¼ê±°ì™€ í˜„ì¬ë¥¼ ì˜¤ê°€ë©° í¼ì³ì§€ëŠ” ì• í‹‹í•˜ê³  ë¯¸ìŠ¤í„°ë¦¬í•œ ì²«ì‚¬ë‘ ë¡œë§¨ìŠ¤", platform: "ì™“ì± ", poster: "ğŸ“¼" }, { title: "ê·¸ í•´ ìš°ë¦¬ëŠ”", genre: "ì²­ì¶˜/ë¡œë§¨ìŠ¤", description: "ê³ ë“±í•™ìƒ ë•Œ í—¤ì–´ì§„ ì—°ì¸ì´ ë‹¤íë©˜í„°ë¦¬ë¡œ ë‹¤ì‹œ ë§Œë‚˜ë©° ë²Œì–´ì§€ëŠ” ì²­ì¶˜ ë¡œë§¨ìŠ¤", platform: "ë„·í”Œë¦­ìŠ¤", poster: "ğŸ“¹" }, { title: "íŒ¨ìŠ¤íŠ¸ ë¼ì´ë¸Œì¦ˆ", genre: "ë¡œë§¨ìŠ¤/ë“œë¼ë§ˆ", description: "ì„œìš¸ì—ì„œ ì–´ë¦° ì‹œì ˆì„ ë³´ë‚¸ ë‘ ë‚¨ë…€ê°€ 20ë…„ ë§Œì— ë‰´ìš•ì—ì„œ ì¬íšŒí•˜ë©° ë²Œì–´ì§€ëŠ” ì´ì•¼ê¸°", platform: "ì™“ì± ", poster: "ğŸ—½" } ], comedy: [ { title: "ë‹­ê°•ì •", genre: "ì½”ë¯¸ë””/ë¯¸ìŠ¤í„°ë¦¬", description: "ì˜ë¬¸ì˜ ê¸°ê³„ì— ë“¤ì–´ê°”ë‹¤ê°€ ë‹­ê°•ì •ìœ¼ë¡œ ë³€í•´ë²„ë¦° ë”¸ì„ ë˜ëŒë¦¬ê¸° ìœ„í•œ ì•„ë¹ ì™€ ê·¸ë…€ë¥¼ ì§ì‚¬ë‘í•˜ëŠ” ë‚¨ìì˜ ê³ êµ°ë¶„íˆ¬", platform: "ë„·í”Œë¦­ìŠ¤", poster: "ğŸ”" }, { title: "ê·¹í•œì§ì—…", genre: "ì½”ë¯¸ë””/ì•¡ì…˜", description: "í•´ì²´ ìœ„ê¸°ì˜ ë§ˆì•½ë°˜ì´ ìœ„ì¥ ì°½ì—…í•œ 'ìˆ˜ì›ì™•ê°ˆë¹„í†µë‹­'ì´ ë§›ì§‘ìœ¼ë¡œ ì†Œë¬¸ë‚˜ë©° ë²Œì–´ì§€ëŠ” ì´ì•¼ê¸°", platform: "ë„·í”Œë¦­ìŠ¤", poster: "ğŸ—" }, { title: "í‚¬ë§ ë¡œë§¨ìŠ¤", genre: "ì½”ë¯¸ë””/ë®¤ì§€ì»¬", description: "ì€í‡´í•œ í†±ìŠ¤íƒ€ ì—¬ë°°ìš°ê°€ ì„¬ë‚˜ë¼ ì¬ë²Œê³¼ ê²°í˜¼ í›„, ì˜†ì§‘ ì‚¼ìˆ˜ìƒê³¼ í•¨ê»˜ ë‚¨í¸ì„ ì£½ì´ë ¤ ëª¨ì˜í•˜ëŠ” ì´ì•¼ê¸°", platform: "ì¿ íŒ¡í”Œë ˆì´", poster: "ğŸï¸" }, { title: "ì—ë¸Œë¦¬ì”½ ì—ë¸Œë¦¬ì›¨ì–´ ì˜¬ ì•³ ì›ìŠ¤", genre: "ì½”ë¯¸ë””/SF", description: "ë¯¸êµ­ì— ì‚¬ëŠ” ì´ë¯¼ì ì—¬ì„±ì´ ë‹¤ì¤‘ìš°ì£¼ë¥¼ ë„˜ë‚˜ë“¤ë©° ì„¸ìƒì„ êµ¬í•˜ëŠ” ì´ì•¼ê¸°", platform: "ë„·í”Œë¦­ìŠ¤", poster: "ğŸ¥¯" } ], drama: [ { title: "íŒŒì¹œì½”", genre: "ë“œë¼ë§ˆ", description: "ê¸ˆì§€ëœ ì‚¬ë‘ì—ì„œ ì‹œì‘ë˜ëŠ” ì´ì•¼ê¸°ë¡œ í•œêµ­ê³¼ ì¼ë³¸, ê·¸ë¦¬ê³  ë¯¸êµ­ì„ ì˜¤ê°€ë©° ì „ìŸê³¼ í‰í™”, ì‚¬ë‘ê³¼ ì´ë³„, ìŠ¹ë¦¬ì™€ ì‹¬íŒì— ëŒ€í•œ ìŠì„ ìˆ˜ ì—†ëŠ” ì—°ëŒ€ê¸°", platform: "Apple TV+", poster: "ğŸ°" }, { title: "The 8 Show (ë” ì—ì´íŠ¸ ì‡¼)", genre: "ë“œë¼ë§ˆ/ìŠ¤ë¦´ëŸ¬", description: "8ëª…ì˜ ì¸ë¬¼ì´ 8ì¸µìœ¼ë¡œ ë‚˜ë‰œ ë¹„ë°€ìŠ¤ëŸ° ê³µê°„ì— ê°‡í˜€ 'ì‹œê°„ì´ ìŒ“ì´ë©´ ëˆì„ ë²„ëŠ”' ì‡¼ì— ì°¸ê°€í•˜ë©° ë²Œì–´ì§€ëŠ” ì´ì•¼ê¸°", platform: "ë„·í”Œë¦­ìŠ¤", poster: "8ï¸âƒ£" }, { title: "ë¬´ë¹™", genre: "ë“œë¼ë§ˆ/ì•¡ì…˜/íˆì–´ë¡œ", description: "ì´ˆëŠ¥ë ¥ì„ ìˆ¨ê¸´ ì±„ í˜„ì¬ë¥¼ ì‚´ì•„ê°€ëŠ” ì•„ì´ë“¤ê³¼, ê³¼ê±°ì˜ ì•„í”ˆ ë¹„ë°€ì„ ìˆ¨ê¸´ ì±„ ì‚´ì•„ì˜¨ ë¶€ëª¨ë“¤ì˜ ì´ì•¼ê¸°", platform: "ë””ì¦ˆë‹ˆ+", poster: "ğŸ¦¸" }, { title: "ë” ê¸€ë¡œë¦¬", genre: "ë“œë¼ë§ˆ/ìŠ¤ë¦´ëŸ¬", description: "ìœ ë…„ ì‹œì ˆ í­ë ¥ìœ¼ë¡œ ì˜í˜¼ê¹Œì§€ ë¶€ì„œì§„ í•œ ì—¬ìê°€ ì˜¨ ìƒì„ ê±¸ì–´ ì¹˜ë°€í•˜ê²Œ ì¤€ë¹„í•œ ì²˜ì ˆí•œ ë³µìˆ˜ê·¹", platform: "ë„·í”Œë¦­ìŠ¤", poster: "ğŸ”¥" }, { title: "ì²´ë¥´ë…¸ë¹Œ", genre: "ë“œë¼ë§ˆ/ì—­ì‚¬", description: "1986ë…„ ë°œìƒí•œ ì²´ë¥´ë…¸ë¹Œ ì›ìë ¥ ë°œì „ì†Œ í­ë°œ ì‚¬ê³ ë¥¼ ë°”íƒ•ìœ¼ë¡œ, ì¬ì•™ì„ ë§‰ê¸° ìœ„í•´ ëª©ìˆ¨ì„ ë°”ì¹œ ì‚¬ëŒë“¤ì˜ ì¶©ê²©ì ì¸ ì‹¤í™”", platform: "ì™“ì± ", poster: "â˜¢ï¸" }, { title: "ë‚˜ì˜ í•´ë°©ì¼ì§€", genre: "ë“œë¼ë§ˆ", description: "í‰ë²”í•œ ì¼ìƒì—ì„œ í•´ë°©ì„ ê¿ˆê¾¸ëŠ” ì„¸ ë‚¨ë§¤ì˜ ì´ì•¼ê¸°", platform: "ë„·í”Œë¦­ìŠ¤", poster: "ğŸ“–" } ], thriller: [ { title: "í”¼ë¼ë¯¸ë“œ ê²Œì„", genre: "ìŠ¤ë¦´ëŸ¬/ë“œë¼ë§ˆ", description: "í•œ ë‹¬ì— í•œ ë²ˆ ë¹„ë°€íˆ¬í‘œë¡œ ì™•ë”°ë¥¼ ë½‘ëŠ” ë°±ì—°ì—¬ê³  2í•™ë…„ 5ë°˜ì—ì„œ ì ì  ë” í­ë ¥ì— ë¹ ì ¸ë“œëŠ” í•™ìƒë“¤ì˜ ì”í˜¹í•œ ì„œë°”ì´ë²Œ", platform: "í‹°ë¹™", poster: "ğŸ”º" }, { title: "ë§ˆìŠ¤í¬ê±¸", genre: "ìŠ¤ë¦´ëŸ¬/ë¸”ë™ì½”ë¯¸ë””", description: "ì™¸ëª¨ ì½¤í”Œë ‰ìŠ¤ë¥¼ ê°€ì§„ í‰ë²”í•œ ì§ì¥ì¸ì´ ë°¤ë§ˆë‹¤ ì¸í„°ë„· ë°©ì†¡ BJë¡œ í™œë™í•˜ë©´ì„œ ë²Œì–´ì§€ëŠ” ì´ì•¼ê¸°", platform: "ë„·í”Œë¦­ìŠ¤", poster: "ğŸ˜·" }, { title: "ì‚´ì¸ìã…‡ë‚œê°", genre: "ìŠ¤ë¦´ëŸ¬/ë²”ì£„", description: "ìš°ë°œì ìœ¼ë¡œ ì‚´ì¸ì„ ì‹œì‘í•˜ê²Œ ëœ í‰ë²”í•œ ë‚¨ìì™€ ê·¸ë¥¼ ì§€ë…í•˜ê²Œ ì«“ëŠ” í˜•ì‚¬ì˜ ì´ì•¼ê¸°", platform: "ë„·í”Œë¦­ìŠ¤", poster: "ğŸ”¨" }, { title: "ì¢‹ê±°ë‚˜ ë‚˜ìœ ë™ì¬", genre: "ìŠ¤ë¦´ëŸ¬/ë²”ì£„", description: "'ë¹„ë°€ì˜ ìˆ²' ìŠ¤í•€ì˜¤í”„. ìŠ¤í° ê²€ì‚¬ ì„œë™ì¬ê°€ ì¬ê°œë°œ ì‚¬ê±´ìœ¼ë¡œ ê³¨ë¨¸ë¦¬ë¥¼ ì•“ëŠ” ì´ì•¼ê¸°", platform: "í‹°ë¹™", poster: "ğŸ‘”" } ], fantasy: [ { title: "í™˜í˜¼", genre: "íŒíƒ€ì§€/ë¡œë§¨ìŠ¤", description: "ì˜í˜¼ì„ ë°”ê¾¸ëŠ” 'í™˜í˜¼ìˆ 'ë¡œ ì¸í•´ ìš´ëª…ì´ ë¹„í‹€ë¦° ì£¼ì¸ê³µë“¤ì˜ ì´ì•¼ê¸°", platform: "ë„·í”Œë¦­ìŠ¤", poster: "ğŸ’«" }, { title: "ì´ì¬, ê³§ ì£½ìŠµë‹ˆë‹¤", genre: "íŒíƒ€ì§€/ë“œë¼ë§ˆ", description: "ì£½ìŒì´ ë‚´ë¦° ì‹¬íŒì— ì˜í•´ 12ë²ˆì˜ ì£½ìŒê³¼ ì‚¶ì„ ê²½í—˜í•˜ê²Œ ë˜ëŠ” ì¸ìƒ í™˜ìŠ¹ ë“œë¼ë§ˆ", platform: "í‹°ë¹™", poster: "ğŸ’€" }, { title: "ë„ê¹¨ë¹„", genre: "íŒíƒ€ì§€/ë¡œë§¨ìŠ¤", description: "ë¶ˆë©¸ì˜ ë„ê¹¨ë¹„ì™€ ì¸ê°„ ì—¬ì„±ì˜ í™˜ìƒì  ì‚¬ë‘ ì´ì•¼ê¸°", platform: "ì™“ì± ", poster: "âš”ï¸" } ], action: [ { title: "ë²”ì£„ë„ì‹œ 4", genre: "ì•¡ì…˜/ë²”ì£„", description: "ê´´ë¬¼í˜•ì‚¬ ë§ˆì„ë„, ì´ë²ˆì—” ë¶ˆë²• ì˜¨ë¼ì¸ ë„ë°• ì¡°ì§ì„ ì†Œíƒ•í•œë‹¤", platform: "VOD", poster: "ğŸ‘Š" }, { title: "ì¡´ ìœ… 4", genre: "ì•¡ì…˜/ìŠ¤ë¦´ëŸ¬", description: "'ì¡´ ìœ…'ì´ ìµœê³  íšŒì˜ë¥¼ ë¬´ë„ˆëœ¨ë¦¬ê¸° ìœ„í•´ ë²Œì´ëŠ” ê±°ëŒ€í•œ ì „ìŸ", platform: "ë„·í”Œë¦­ìŠ¤", poster: "ğŸ¤µ" }, { title: "ë§ˆì´ ë„¤ì„", genre: "ì•¡ì…˜/ìŠ¤ë¦´ëŸ¬", description: "ì•„ë²„ì§€ì˜ ë³µìˆ˜ë¥¼ ìœ„í•´ ì¡°ì§ì— ë“¤ì–´ê°„ ì—¬ì„±ì˜ ì•¡ì…˜", platform: "ë„·í”Œë¦­ìŠ¤", poster: "ğŸ”«" } ], healing: [ { title: "ìŠ¬ê¸°ë¡œìš´ ì˜ì‚¬ìƒí™œ", genre: "íë§/ë“œë¼ë§ˆ", description: "ë³‘ì›ì—ì„œ í‰ë²”í•œ ë“¯ íŠ¹ë³„í•œ í•˜ë£¨í•˜ë£¨ë¥¼ ì‚´ì•„ê°€ëŠ” ì‚¬ëŒë“¤ê³¼ 20ë…„ì§€ê¸° ì¹œêµ¬ë“¤ì˜ ì¼€ë¯¸ìŠ¤íŠ¸ë¦¬", platform: "ë„·í”Œë¦­ìŠ¤", poster: "ğŸ©º" }, { title: "ë‚˜ì˜ ì•„ì €ì”¨", genre: "íë§/ë“œë¼ë§ˆ", description: "ì‚¶ì˜ ë¬´ê²Œë¥¼ ë²„í‹°ë©° ì‚´ì•„ê°€ëŠ” ì•„ì €ì”¨ ì‚¼ í˜•ì œì™€ í•œ ì—¬ì„±ì´ ì„œë¡œë¥¼ í†µí•´ ì‚¶ì„ ì¹˜ìœ í•˜ëŠ” ì´ì•¼ê¸°", platform: "ë„·í”Œë¦­ìŠ¤", poster: "ğŸ§‘â€ğŸ¤â€ğŸ§‘" }, { title: "ê°¯ë§ˆì„ ì°¨ì°¨ì°¨", genre: "íë§/ë¡œë§¨ìŠ¤", description: "ë°”ë‹·ê°€ ë§ˆì„ì˜ ë”°ëœ»í•œ ì‚¬ëŒë“¤ê³¼ í•¨ê»˜í•˜ëŠ” íë§", platform: "ë„·í”Œë¦­ìŠ¤", poster: "ğŸ–ï¸" } ], mystery: [ { title: "ì•…ê·€", genre: "ë¯¸ìŠ¤í„°ë¦¬/ì˜¤ì»¬íŠ¸", description: "ì•…ê·€ì— ì” ì—¬ìì™€ ê·¸ ì•…ê·€ë¥¼ ë³¼ ìˆ˜ ìˆëŠ” ë‚¨ìê°€ ì˜ë¬¸ì˜ ì£½ìŒì„ íŒŒí—¤ì¹˜ëŠ” ì˜¤ì»¬íŠ¸ ë¯¸ìŠ¤í„°ë¦¬", platform: "ë””ì¦ˆë‹ˆ+", poster: "ğŸšª" }, { title: "ê´´ë¬¼", genre: "ë¯¸ìŠ¤í„°ë¦¬/ìŠ¤ë¦´ëŸ¬", description: "ì—°ì‡„ì‚´ì¸ë§ˆë¥¼ ì¡ê¸° ìœ„í•´ ë²•ê³¼ ì›ì¹™ì„ ê¹¨ë¶€ìˆ˜ëŠ” ë‘ ë‚¨ìì˜ ì´ì•¼ê¸°", platform: "ë„·í”Œë¦­ìŠ¤", poster: "ğŸ‘¥" }, { title: "ë¹„ë°€ì˜ ìˆ²", genre: "ë¯¸ìŠ¤í„°ë¦¬/ë²•ì •", description: "ê°ì •ì´ ì—†ëŠ” ê²€ì‚¬ì™€ ì—´í˜ˆ í˜•ì‚¬ì˜ ìˆ˜ì‚¬ê·¹", platform: "ë„·í”Œë¦­ìŠ¤", poster: "âš–ï¸" } ], historical: [ { title: "ì—°ì¸", genre: "ì‚¬ê·¹/ë¡œë§¨ìŠ¤", description: "ë³‘ìí˜¸ë€ì„ ê²ªìœ¼ë©° ì—‡ê°ˆë¦¬ëŠ” ì—°ì¸ë“¤ì˜ ì‚¬ë‘ê³¼ ë°±ì„±ë“¤ì˜ ìƒëª…ë ¥ì„ ë‹¤ë£¬ íœ´ë¨¼ì—­ì‚¬ë©œë¡œë“œë¼ë§ˆ", platform: "ì›¨ì´ë¸Œ", poster: "ğŸ’•" }, { title: "í‚¹ë¤", genre: "ì‚¬ê·¹/ìŠ¤ë¦´ëŸ¬", description: "ì¡°ì„ ì‹œëŒ€ë¥¼ ë°°ê²½ìœ¼ë¡œ í•œ ì¢€ë¹„ ì‚¬ê·¹", platform: "ë„·í”Œë¦­ìŠ¤", poster: "ğŸ‘‘" }, { title: "ë¯¸ìŠ¤í„° ì…˜ìƒ¤ì¸", genre: "ì‚¬ê·¹/ë¡œë§¨ìŠ¤", description: "êµ¬í•œë§ì„ ë°°ê²½ìœ¼ë¡œ í•œ ëŒ€ì„œì‚¬ê·¹", platform: "ë„·í”Œë¦­ìŠ¤", poster: "ğŸŒ…" } ], youth: [ { title: "í•˜ì´ë¼í‚¤", genre: "ì²­ì¶˜/ë“œë¼ë§ˆ", description: "ìƒìœ„ 0.01%ì˜ ì†Œìˆ˜ê°€ ì§ˆì„œì´ì ë²•ìœ¼ë¡œ êµ°ë¦¼í•˜ëŠ” ê³ ë“±í•™êµì— ë¹„ë°€ì„ í’ˆê³  ì…ì„±í•œ ì „í•™ìƒì˜ ì´ì•¼ê¸°", platform: "ë„·í”Œë¦­ìŠ¤", poster: "ğŸ«" }, { title: "25 21", genre: "ì²­ì¶˜/ë“œë¼ë§ˆ", description: "IMF ì‹œëŒ€ ì²­ì¶˜ë“¤ì˜ ê¿ˆê³¼ ì‚¬ë‘ì„ ê·¸ë¦° ì„±ì¥ ë“œë¼ë§ˆ", platform: "ë„·í”Œë¦­ìŠ¤", poster: "ğŸ¤º" }, { title: "ì•½í•œì˜ì›… Class 1", genre: "ì²­ì¶˜/ì•¡ì…˜", description: "ìƒìœ„ 1% ëª¨ë²”ìƒì´ í•™êµ ì•ˆíŒì˜ í­ë ¥ì— ë§ì„œ ì‹¸ìš°ëŠ” ì•½í•œ ì†Œë…„ì˜ ê°•í•œ ì•¡ì…˜ ì„±ì¥ ë“œë¼ë§ˆ", platform: "ì›¨ì´ë¸Œ", poster: "ğŸ“–" } ], family: [ { title: "ì½”ì½”", genre: "ê°€ì¡±/ì• ë‹ˆë©”ì´ì…˜", description: "ìŒì•…ì„ ì‚¬ë‘í•˜ëŠ” ì†Œë…„ ë¯¸êµ¬ì—˜ì´ ì£½ì€ ìë“¤ì˜ ì„¸ìƒìœ¼ë¡œ ë“¤ì–´ê°€ë©´ì„œ í¼ì³ì§€ëŠ” í™©í™€í•œ ëª¨í—˜", platform: "ë””ì¦ˆë‹ˆ+", poster: "ğŸ¸" }, { title: "ì‘ë‹µí•˜ë¼ 1988", genre: "ê°€ì¡±/ì½”ë¯¸ë””", description: "1988ë…„ ë‹¤ì„¯ ê°€ì¡±ì˜ ë”°ëœ»í•œ ì¼ìƒ", platform: "ë„·í”Œë¦­ìŠ¤", poster: "ğŸ“º" }, { title: "ëª¨ë˜ íŒ¨ë°€ë¦¬", genre: "ê°€ì¡±/ì½”ë¯¸ë””", description: "ì„¸ ê°€ì¡±ì˜ ì¼ìƒì„ ìœ ì¾Œí•˜ê²Œ ê·¸ë¦° ì‹œíŠ¸ì½¤", platform: "ë””ì¦ˆë‹ˆ+", poster: "ğŸ¡" } ], horror: [ { title: "íŒŒë¬˜", genre: "í˜¸ëŸ¬/ì˜¤ì»¬íŠ¸", description: "ê±°ì•¡ì˜ ëˆì„ ë°›ê³  ìˆ˜ìƒí•œ ë¬˜ë¥¼ ì´ì¥í•œ í’ìˆ˜ì‚¬ì™€ ì¥ì˜ì‚¬, ë¬´ì†ì¸ë“¤ì—ê²Œ ë²Œì–´ì§€ëŠ” ê¸°ì´í•œ ì‚¬ê±´", platform: "VOD", poster: "âš°ï¸" }, { title: "ê³¡ì„±", genre: "í˜¸ëŸ¬/ë¯¸ìŠ¤í„°ë¦¬", description: "ì‹œê³¨ ë§ˆì„ì— ë‚˜íƒ€ë‚œ ì˜ë¬¸ì˜ ì™¸ì§€ì¸ê³¼ ê¸°ì´í•œ ì‚¬ê±´ë“¤", platform: "ë„·í”Œë¦­ìŠ¤", poster: "ğŸ‘»" }, { title: "ìŠ¤ìœ„íŠ¸í™ˆ", genre: "í˜¸ëŸ¬/ìŠ¤ë¦´ëŸ¬", description: "ì•„íŒŒíŠ¸ì— ê°‡íŒ ì‚¬ëŒë“¤ê³¼ ê´´ë¬¼ë“¤ì˜ ìƒì¡´ê¸°", platform: "ë„·í”Œë¦­ìŠ¤", poster: "ğŸ¢" } ], sf: [ { title: "Dr. ë¸Œë ˆì¸", genre: "SF/ë¯¸ìŠ¤í„°ë¦¬", description: "ê¸°ì–µê³¼ ì˜ì‹ì„ ìŠ¤ìº”í•˜ëŠ” ë‡Œë™ê¸°í™” ê¸°ìˆ ì„ í†µí•´ ë¯¸ìŠ¤í„°ë¦¬í•œ ì‚¬ê±´ì˜ ë‹¨ì„œë¥¼ ì¶”ì í•˜ëŠ” SF ìŠ¤ë¦´ëŸ¬", platform: "Apple TV+", poster: "ğŸ§ " }, { title: "ê²½ì„±í¬ë¦¬ì²˜", genre: "SF/ìŠ¤ë¦´ëŸ¬", description: "1945ë…„ ê²½ì„±, íƒìš• ìœ„ì— íƒ„ìƒí•œ ê´´ë¬¼ê³¼ ë§ì„œëŠ” ë‘ ì²­ì¶˜ì˜ ì´ì•¼ê¸°", platform: "ë„·í”Œë¦­ìŠ¤", poster: "ğŸ”¬" }, { title: "ì‚¼ì²´", genre: "SF/ë¯¸ìŠ¤í„°ë¦¬", description: "1960ë…„ëŒ€ ì¤‘êµ­ì˜ í•œ ì Šì€ ì—¬ì„±ì´ ë‚´ë¦° ìš´ëª…ì  ê²°ì •ì´ ì‹œê³µì„ ë›°ì–´ë„˜ì–´ í˜„ì¬ì˜ ê³¼í•™ìë“¤ì—ê²Œ ë¯¸ì¹˜ëŠ” ì˜í–¥", platform: "ë„·í”Œë¦­ìŠ¤", poster: "ğŸ“¡" }, { title: "ë¸”ë™ ë¯¸ëŸ¬", genre: "SF/ìŠ¤ë¦´ëŸ¬", description: "ì²¨ë‹¨ ê¸°ìˆ ì´ ì¸ê°„ì˜ ìš•ë§ì„ ì‹¤í˜„í•´ì£¼ë©´ì„œ ë²Œì–´ì§€ëŠ” SF ì˜´ë‹ˆë²„ìŠ¤ ì‹œë¦¬ì¦ˆ", platform: "ë„·í”Œë¦­ìŠ¤", poster: "ğŸ“±" } ] };
        
        document.addEventListener('DOMContentLoaded', function() {
            let selectedMood = '';
            let selectedGenres = [];
            let posts = [];
            let allContentTitles = [];
            const POSTS_STORAGE_KEY = 'moodflix_posts';

            const recommenderView = document.getElementById('recommenderView');
            const communityView = document.getElementById('communityView');
            const tabRecommender = document.getElementById('tabRecommender');
            const tabCommunity = document.getElementById('tabCommunity');
            const postListContainer = document.getElementById('postList');
            const writeModal = document.getElementById('writePostModal');
            const viewModal = document.getElementById('viewPostModal');
            const postForm = document.getElementById('postForm');
            const postContentSelect = document.getElementById('postContentSelect');
            const filterSelect = document.getElementById('filterSelect');

            function showRecommenderView() { recommenderView.classList.remove('hidden'); communityView.classList.add('hidden'); tabRecommender.classList.add('active'); tabCommunity.classList.remove('active'); }
            function showCommunityView() { recommenderView.classList.add('hidden'); communityView.classList.remove('hidden'); tabRecommender.classList.remove('active'); tabCommunity.classList.add('active'); loadAndRenderPosts(); }
            
            function openWriteModal() { writeModal.classList.remove('hidden'); }
            function closeWriteModal() { writeModal.classList.add('hidden'); postForm.reset(); }
            function openViewModal(postId) {
                const post = posts.find(p => p.id === postId);
                if(post) {
                    document.getElementById('viewPostTitle').textContent = post.title;
                    document.getElementById('viewPostContentTitle').textContent = `#${post.contentTitle}`;
                    document.getElementById('viewPostDate').textContent = `ì‘ì„±ì¼: ${post.date}`;
                    document.getElementById('viewPostContent').textContent = post.content;
                    viewModal.classList.remove('hidden');
                }
            }
            function closeViewModal() { viewModal.classList.add('hidden'); }
            
            function savePosts() { localStorage.setItem(POSTS_STORAGE_KEY, JSON.stringify(posts)); }
            
            function renderPosts(filter = 'all') {
                const postsToRender = (filter === 'all') ? posts : posts.filter(post => post.contentTitle === filter);
                postListContainer.innerHTML = '';
                if (postsToRender.length === 0) {
                    postListContainer.innerHTML = `<div class="text-center text-gray-500 py-10">í•´ë‹¹ ì½˜í…ì¸ ì— ëŒ€í•œ ê¸€ì´ ì•„ì§ ì—†ì–´ìš”. <br>ì²« ê°ìƒí‰ì„ ë‚¨ê²¨ë³´ì„¸ìš”!</div>`;
                    return;
                }
                postsToRender.forEach(post => {
                    const postElement = document.createElement('div');
                    postElement.className = 'post-item bg-white rounded-lg shadow-md p-5 cursor-pointer';
                    postElement.dataset.id = post.id;
                    postElement.innerHTML = `
                        <p class="text-sm font-semibold text-indigo-600 mb-2">#${post.contentTitle}</p>
                        <h3 class="text-xl font-bold text-gray-800 truncate">${post.title}</h3>
                        <p class="text-sm text-gray-500 mt-1">ì‘ì„±ì¼: ${post.date}</p>
                    `;
                    postElement.addEventListener('click', () => openViewModal(post.id));
                    postListContainer.appendChild(postElement);
                });
            }

            function loadAndRenderPosts() {
                const storedPosts = localStorage.getItem(POSTS_STORAGE_KEY);
                posts = storedPosts ? JSON.parse(storedPosts) : [];
                renderPosts(filterSelect.value);
            }

            function getAllContentTitles() {
                const titles = new Set();
                Object.values(contentDatabase).flat().forEach(item => titles.add(item.title));
                allContentTitles = Array.from(titles).sort((a, b) => a.localeCompare(b, 'ko-KR'));
            }
            
            function populateSelectWithOptions(selectElement, includeAllOption) {
                selectElement.innerHTML = '';
                if (includeAllOption) {
                    selectElement.innerHTML += `<option value="all">ğŸ“º ëª¨ë“  ì½˜í…ì¸  ê¸€ ë³´ê¸°</option>`;
                } else {
                    selectElement.innerHTML += `<option value="" disabled selected>ğŸ‘‡ ì—¬ê¸°ì„œ ì½˜í…ì¸ ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>`;
                }
                allContentTitles.forEach(title => {
                    selectElement.innerHTML += `<option value="${title}">${title}</option>`;
                });
            }

            // --- Event Listeners ---
            tabRecommender.addEventListener('click', showRecommenderView);
            tabCommunity.addEventListener('click', showCommunityView);
            document.getElementById('openWriteModalBtn').addEventListener('click', openWriteModal);
            document.getElementById('cancelPostBtn').addEventListener('click', closeWriteModal);
            document.getElementById('closeViewModalBtn').addEventListener('click', closeViewModal);
            filterSelect.addEventListener('change', () => renderPosts(filterSelect.value));

            postForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const newPost = {
                    id: Date.now(),
                    contentTitle: postContentSelect.value,
                    title: document.getElementById('postTitle').value,
                    content: document.getElementById('postContent').value,
                    date: new Date().toLocaleDateString('ko-KR')
                };
                posts.unshift(newPost);
                savePosts();
                filterSelect.value = 'all'; // í•„í„°ë¥¼ 'ì „ì²´'ë¡œ ì´ˆê¸°í™”
                renderPosts();
                closeWriteModal();
            });
            
            // Recommender Functions and Listeners (same as before)
            function showLoading() { document.getElementById('loadingSection').classList.remove('hidden'); document.getElementById('recommendationSection').classList.add('hidden'); }
            function hideLoading() { document.getElementById('loadingSection').classList.add('hidden'); document.getElementById('recommendationSection').classList.remove('hidden'); }
            function getRecommendations() { let r = []; if (selectedGenres.length > 0) { selectedGenres.forEach(g => { if (contentDatabase[g]) { r.push(...contentDatabase[g]); } }); } else if (selectedMood) { switch(selectedMood) { case 'happy': case 'excited': r.push(...contentDatabase.comedy, ...contentDatabase.romance); break; case 'sad': case 'tired': r.push(...contentDatabase.drama, ...contentDatabase.healing); break; case 'romantic': r.push(...contentDatabase.romance, ...contentDatabase.fantasy); break; case 'curious': r.push(...contentDatabase.mystery, ...contentDatabase.sf); break; case 'angry': r.push(...contentDatabase.action, ...contentDatabase.thriller); break; case 'calm': r.push(...contentDatabase.healing, ...contentDatabase.family); break; default: r.push(...Object.values(contentDatabase).flat()); } } else { r.push(...contentDatabase.romance.slice(0, 1), ...contentDatabase.drama.slice(0, 1), ...contentDatabase.action.slice(0, 1)); } const u = r.filter((i, x, s) => x === s.findIndex(t => t.title === i.title)); return u.sort(() => 0.5 - Math.random()).slice(0, 3); }
            function displayRecommendations(recs) { const s = document.getElementById('recommendationSection'); let h = `<div class="text-center mb-8"><h2 class="text-3xl font-bold text-gray-800 mb-2">ğŸ¯ ë‹¹ì‹ ì„ ìœ„í•œ ì¶”ì²œ</h2><p class="text-gray-600">ì§€ê¸ˆ ì´ ìˆœê°„ ë‹¹ì‹ ì—ê²Œ ë”± ë§ëŠ” ì½˜í…ì¸ ì…ë‹ˆë‹¤</p></div><div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">`; recs.forEach((i, x) => { h += `<div class="bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 card-enter" style="animation-delay: ${x * 100}ms"><div class="p-6"><div class="text-6xl text-center mb-4">${i.poster}</div><h3 class="text-xl font-bold mb-2 text-gray-800">${i.title}</h3><p class="text-sm text-blue-500 font-semibold mb-2">${i.genre}</p><p class="text-gray-600 mb-4 text-sm leading-relaxed h-20">${i.description}</p><div class="flex justify-between items-center mt-4"><span class="bg-gradient-to-r from-blue-100 to-indigo-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium">ğŸ“º ${i.platform}</span></div></div></div>`; }); h += `</div><div class="text-center"><button onclick="location.reload()" class="bg-white border-2 border-gray-300 text-gray-700 font-medium py-3 px-6 rounded-lg hover:bg-gray-100 transition-colors">ğŸ”„ ë‹¤ì‹œ ì¶”ì²œë°›ê¸°</button></div>`; s.innerHTML = h; }
            document.getElementById('moodSection').addEventListener('click', function(e) { const m = e.target.closest('.mood-btn'); if (m) { document.querySelectorAll('.mood-btn').forEach(b => b.classList.remove('selected')); m.classList.add('selected'); selectedMood = m.dataset.mood; } });
            document.getElementById('genreSection').addEventListener('click', function(e) { const g = e.target.closest('.genre-chip'); if (g) { const t = g.dataset.genre; g.classList.toggle('selected'); if (selectedGenres.includes(t)) { selectedGenres = selectedGenres.filter(i => i !== t); } else { selectedGenres.push(t); } } });
            document.getElementById('getRecommendation').addEventListener('click', function() { const u = document.getElementById('userInput').value; if (!selectedMood && selectedGenres.length === 0 && !u.trim()) { alert('ê°ì •ì´ë‚˜ ì¥ë¥´ë¥¼ ì„ íƒí•˜ê±°ë‚˜, ììœ  ì…ë ¥ë€ì— ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!'); return; } showLoading(); setTimeout(() => { const r = getRecommendations(); displayRecommendations(r); hideLoading(); }, 1500); });
            
            // --- Initial App Load ---
            getAllContentTitles();
            populateSelectWithOptions(postContentSelect, false);
            populateSelectWithOptions(filterSelect, true);
            loadAndRenderPosts();
        });
    </script>
</body>
</html>